<?xml version="1.0" encoding="UTF-8"?>


<templates id="templateNavBar" xml:space="preserve">

    <t t-inherit="web.NavBar" t-inherit-mode="extension">
        <xpath expr="." position="replace">
            <header class="o_navbar" t-ref="root">
                <nav
                    class="o_main_navbar d-print-none ps-2"
                    data-command-category="disabled"
                >
                    <!-- Apps Menu -->
                    <!-- <t t-call="web.NavBar.AppsMenu">
                        <t t-set="apps" t-value="menuService.getApps()" />
                    </t> -->

                    <!-- App Brand -->
                    <DropdownItem
                    t-if="!env.isSmall and currentApp"
                    t-esc="currentApp.name"
                    class="'o_menu_brand d-flex'"
                    onSelected="() => this.onNavBarDropdownItemSelection(currentApp)"
                    attrs="{ href: getMenuItemHref(currentApp), 'data-menu-xmlid': currentApp.xmlid, 'data-section': currentApp.id }"
                    />

                    <div class="o_navbar_breadcrumbs d-contents"/>

                    <t t-if="!env.isSmall">
                    <!-- Current App Sections -->
                    <t t-if="currentAppSections.length" t-call="web.NavBar.SectionsMenu">
                        <t t-set="sections" t-value="currentAppSections" />
                    </t>
                    </t>

                    <!-- Systray -->
                    <div class="o_menu_systray d-flex flex-shrink-0 ms-auto bg-inherit" role="menu">
                    <t t-foreach="systrayItems" t-as="item" t-key="item.key">
                        <!-- This ensures the correct order of the systray items -->
                        <div t-att-data-index="item.index"/>
                        <ErrorHandler onError="error => this.handleItemError(error, item)">
                            <t t-component="item.Component" t-props="item.props"/>
                        </ErrorHandler>
                    </t>
                    </div>
                </nav>
            </header>
        </xpath>
    </t>

</templates>
